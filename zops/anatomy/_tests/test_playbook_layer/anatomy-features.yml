anatomy-features:

  - name: gitignore
    commands:
      - command: create-file
        fileid: gitignore
        filename: .gitignore
        contents: |
          # This file is generated by zops.anatomy.

  - name: python-pytest
    commands:
      - command: set-variables
        requirements:
          python:
            - pytest

      - command: create-file
        fileid: pytestini
        filename: pytest.ini
        variables:
          addopts:
            - '--tb=short'
          timeout: 60
        contents: |
          # This file is generated by zops.anatomy.

          [pytest]
          addopts = {{ pytestini.addopts|join(' ') }}
          timeout = {{ pytestini.timeout }}

  - name: gitignore-ides
    commands:
      - command: add-file-block
        fileid: gitignore
        contents: |
          /.idea/
          /.project/

  - name: python-project
    commands:
      - command: add-file-block
        fileid: gitignore
        contents: |
          .pyc
          .pyd
          .pyo

  - name: readme
    commands:
      - command: create-file
        fileid: readme
        filename: README.md
        contents: |
          # This file is generated by zops.anatomy.

          # This is {{project.name}}.

          The code is at `{{project.code_name}}`.

          Global is {{global}}.
